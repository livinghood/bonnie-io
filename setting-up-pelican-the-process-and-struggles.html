<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="bonnie.io, Weaving codes and yarn">

        <link rel="alternate"  href="http://www.bonnie.io/feeds/all.atom.xml" type="application/atom+xml" title="bonnie.io Full Atom Feed"/>

        <title>Setting up Pelican - the process and struggles // bonnie.io // Weaving codes and yarn</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://www.bonnie.io/theme/css/pure.css">
    <link rel="stylesheet" href="http://www.bonnie.io/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background-image: url('/images/bg.jpg')">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <img class="avatar" src="/images/profile02.png">
                            <h1 class="brand-main"><a href="http://www.bonnie.io">bonnie.io</a></h1>
                            <p class="tagline">Weaving codes and yarn</p>
                                <p class="links"><a href="http://www.bonnie.io/about">About</a></p>
                                <p class="links"><a href="http://www.bonnie.io/archives.html">Posts</a></p>
                                <p class="links"><a href="http://www.bonnie.io/contact">Contact</a></p>
                                <p class="social">
                                    <a href="http://github.com/livinghood">
                                        <i class="fa fa-github fa-3x"></i>
                                    </a>
                                    <a href="https://www.linkedin.com/pub/bonnie-chan/27/368/a99">
                                        <i class="fa fa-linkedin-square fa-3x"></i>
                                    </a>
                                    <a href="http://twitter.com/livinghood">
                                        <i class="fa fa-twitter fa-3x"></i>
                                    </a>
                                    <a href="http://www.bonnie.io/feeds/all.atom.xml">
                                        <i class="fa fa-rss-square fa-3x"></i>
                                    </a>
                                <p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Setting up Pelican - the process and&nbsp;struggles</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="http://www.bonnie.io/tag/pelican.html">pelican</a>
                                <a class="post-category" href="http://www.bonnie.io/tag/python.html">python</a>
                        </p>
                </header>
            </section>
            <p>In <a href="http://www.bonnie.io/a-new-beginning-with-pelican.html">the previous post</a>, I mentioned that one of the reasons to try Pelican is because it is written in Python. However, getting Pelican up and running is not as straight-forward as I thought. This post is about some Python problems I have run into before installing Pelican and the process of setting it&nbsp;up. </p>
<p>Some may say that you don&#8217;t need to know Python to install Pelican but from my experience, it&#8217;s very likely to run into problems that you can&#8217;t solve or don&#8217;t understand without some basic Python&nbsp;understanding. </p>
<p>Learning Python from various sources proved to be a problem. I started off from a book which directed me to download Python (3) package from the official site. It was a mistake. Some days passed and I learnt to install/update Python in the terminal, it was chaotic. There was Python <strong>everywhere</strong>! At some time, <em>this</em> python and <em>that</em> python was conflicting each other. Yes, I know that Python is preinstalled on MacOS but I was trying to use Python 3. Anyway, after a slightly chaotic start, I decided to start from scratch - delete all the python and stick to the&nbsp;terminal.</p>
<h2>Lessons&nbsp;learnt</h2>
<ul>
<li>Use the&nbsp;Terminal</li>
<li>Learn some fundamental&nbsp;Python</li>
<li>Take a look at the <a href="http://docs.getpelican.com/en/3.4.0/">Pelican&nbsp;documentation</a></li>
</ul>
<p>Said and done. After the Python clear-up, I did the lessons learnt and managed to get Pelican installed and running without further problem. So here is how I did&nbsp;it. </p>
<h2>Pelican&nbsp;Installation</h2>
<p>Before installing Pelican, make sure you have the following&nbsp;tools: </p>
<h3>Tools that you&nbsp;need</h3>
<ul>
<li><strong>Text editor</strong> - I use Sublime&nbsp;Text.</li>
<li><strong>Terminal/bash</strong> </li>
<li><strong>Python</strong> - Install Python 2.7.x or&nbsp;3.3+. </li>
<li><strong>pip</strong></li>
<li><strong>virtualenv</strong></li>
<li><strong>virtualenvwrapper</strong>&nbsp;(optional) </li>
</ul>
<p>I&#8217;m on Mac and Python is already preinstalled. It is considered to be a good practice to install <code>virtualenv</code> to create isolated Python environments. Having seperate Python environments allows you to install different versions of Python as well as dependencies. For example, you can use Python 2.7.x in Pelican virtualenv while using Python 3 in another one. Having <code>virtualenv</code> set up can avoid the chaos I had in the very&nbsp;beginning. </p>
<p>To install <code>virtualenv</code> globally:</p>
<div class="highlight"><pre><span class="nv">$ </span>pip install virtualenv
</pre></div>


<p>Then I create a virtual environment in <code>~/virtualenvs/pelican</code>:</p>
<div class="highlight"><pre><span class="nv">$ </span>virtualenv ~/virtualenvs/pelican
</pre></div>


<p>To activate the virtual&nbsp;environment:</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> ~/virtualenvs/pelican
<span class="nv">$ </span><span class="nb">source </span>bin/activate
</pre></div>


<p>Now we are ready to install Pelican and Markdown that I use for writing posts like this&nbsp;one.</p>
<div class="highlight"><pre><span class="nv">$ </span>pip install pelican
<span class="nv">$ </span>pip install Markdown
</pre></div>


<p>Pelican has a nice feature that helps you kickstart your&nbsp;site. </p>
<div class="highlight"><pre><span class="nv">$ </span>pelican-quickstart
</pre></div>


<p>This will prompt some questions that set up some basic configurations which can be changed in <code>pelicanconf.py</code>. </p>
<p>When Pelican is installed, there are a couple of dependencies are being installed automatically at the same&nbsp;time:</p>
<ul>
<li><a href="https://pypi.python.org/pypi/feedgenerator"><strong>feedgenerator</strong></a> - to generate the Atom&nbsp;feeds</li>
<li><a href="https://pypi.python.org/pypi/Jinja2"><strong>jinja2</strong></a> - for templating&nbsp;support</li>
<li><a href="https://pypi.python.org/pypi/Pygments"><strong>pygments</strong></a> - for syntax&nbsp;highligting</li>
<li><a href="https://pypi.python.org/pypi/docutils"><strong>docutils</strong></a> - for supporting reStructuredText as an input&nbsp;format</li>
<li><a href="https://pypi.python.org/pypi/pytz"><strong>pytz</strong></a> - for timezone&nbsp;definitions</li>
<li><a href="https://pypi.python.org/pypi/blinker"><strong>blinkers</strong></a> - an object-to-object and broadcast signaling&nbsp;system</li>
<li><a href="https://pypi.python.org/pypi/Unidecode"><strong>unidecode</strong></a> - for <span class="caps">ASCII</span> transliterationsn of Unicode&nbsp;text</li>
<li><a href="https://pypi.python.org/pypi/six"><strong>six</strong></a> - for Python 2 and 3 compatibility&nbsp;utilities</li>
<li><a href="https://pypi.python.org/pypi/MarkupSafe"><strong>MarkupSafe</strong></a> - for a markup safe string&nbsp;implementation</li>
<li><a href="https://pypi.python.org/pypi/python-dateutil"><strong>python-dateutil</strong></a> - to read the date&nbsp;metadata</li>
</ul>
<p>Once Pelican is installed, it provides a skeleton structure:
Use the command <code>tree</code> to generate a directory&nbsp;tree:</p>
<div class="highlight"><pre><span class="nv">$ </span>tree
blog/
├── content
│   └── <span class="o">(</span>pages<span class="o">)</span>
│   └── <span class="o">(</span>images<span class="o">)</span>
├── output
├── develop_server.sh
├── fabfile.py
├── Makefile
├── pelicanconf.py       
└── publishconf.py
</pre></div>


<p>I will go through each of them with a brief&nbsp;explanation. </p>
<p><code>content</code>, as the name suggests, is a directory where you put your content like articles, blog posts and images.  By default, Pelican is configured to treat all pages in the <code>pages</code> directory as static pages which are not sorted in chronological order. In other word, you should put static pages like About me, Projects, Contact, etc. inside  the <code>pages</code> directory. </p>
<p><code>output</code> is where the html, css and javascript files Pelican generated&nbsp;are. </p>
<p><code>Makefile</code> define the command <code>make</code> actions, for example the command <code>make html</code> make html files out of the blog contents (in<code>.md</code> or <code>.rst</code> format). It also contains other commands such as <code>make devserver</code> and etc. More about <code>make</code> <a href="http://www.gnu.org/software/make/manual/">here</a>.</p>
<p><code>fabfile</code> is a configuration file for <a href="http://www.fabfile.org/">Fabric</a>. You can use a command <code>fab serve</code> to generate the site and review at <code>http://localhost:8000</code>. Please note that you need to install Fabric seperately&nbsp;via:</p>
<div class="highlight"><pre><span class="nv">$ </span>pip install Fabric
</pre></div>


<p>Instead of <code>fab</code>, I use <code>make</code>. </p>
<p><code>pelicanconf.py</code> is a main settings file that will be passed to the templates when the site is generated so the settings are site-wide. If you didn&#8217;t install pelican with the <code>pelican-quickstart</code> comment, this file will be named <code>settingsfile.py</code> instead.</p>
<p><code>publishconf.py</code> contains settings to use when ready to publish. It is not aimed to be used locally. So far I haven&#8217;t had the need to edit this&nbsp;file. </p>
<p>Now it&#8217;s time to put some content! Open your text editor of choice and start writing. I use Markdown syntax so it looks something like this in the&nbsp;editor:</p>
<div class="highlight"><pre><span class="n">Title</span><span class="o">:</span> <span class="n">My</span> <span class="n">first</span> <span class="n">post</span>
<span class="n">Date</span><span class="o">:</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">09</span> <span class="mi">11</span><span class="o">:</span><span class="mi">00</span>
<span class="n">Category</span><span class="o">:</span> <span class="n">Python</span>
<span class="n">Tags</span><span class="o">:</span> <span class="n">pelican</span><span class="o">,</span> <span class="n">blog</span>
<span class="n">Slug</span><span class="o">:</span> <span class="n">my</span><span class="o">-</span><span class="n">first</span><span class="o">-</span><span class="n">post</span>
<span class="n">Authors</span><span class="o">:</span> <span class="n">Bonnie</span> <span class="n">Chan</span>
<span class="n">Lang</span><span class="o">:</span> <span class="n">en</span>

<span class="n">This</span> <span class="k">is</span> <span class="n">my</span> <span class="n">newly</span> <span class="n">opened</span> <span class="n">Pelican</span> <span class="n">blog</span><span class="o">!</span>
</pre></div>


<p>Save it as <code>.md</code> file in <code>content</code>folder. Almost ready! To generate the&nbsp;site:</p>
<div class="highlight"><pre><span class="nv">$ </span>make devserver
</pre></div>


<p>Your website should be ready at <code>http://localhost:8000</code>. When you edit any files, it will automatically generate the site with the new changes. Once you are happy with it, you can stop the development&nbsp;server: </p>
<div class="highlight"><pre><span class="nv">$ </span>./develop_server.sh stop
</pre></div>


<p>What&#8217;s left to do is to think about how you want to host your site. You can host it on a server running Apache or Nginx or via GitHub pages. There are plenty of deployment options to choose from. For more information, check out Pelican <a href="http://docs.getpelican.com/en/3.4.0/tips.html">tips</a> on&nbsp;deployment. </p>
<h2>Links</h2>
<ul>
<li><a href="http://learnpythonthehardway.org/book/appendixa.html">Command Line Crash&nbsp;Course</a></li>
<li><a href="http://learnpythonthehardway.org/book/">Learn Python the Hard&nbsp;Way</a></li>
<li><a href="https://github.com/Homebrew/homebrew/wiki/Homebrew-and-Python">Homebrew and&nbsp;Python</a></li>
<li><a href="http://virtualenv.readthedocs.org/">virtualenv&nbsp;Documentation</a></li>
</ul>
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Bonnie Chan &ndash;
        Built with modified <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>

</body>
</html>